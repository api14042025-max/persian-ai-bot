import os
import random
from datetime import datetime
from telegram import Update, ReplyKeyboardMarkup, InlineKeyboardMarkup, InlineKeyboardButton
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes, CallbackQueryHandler

BOT_TOKEN = os.getenv('BOT_TOKEN', '7575730725:AAE6n7LtUxRVmaiFwaBkfKgiwnt4tbuSeqM')
OWNER_ID = int(os.getenv('OWNER_ID', '7094827350'))

class AdvancedAI:
    def __init__(self):
        self.user_profiles = {}
        
    def is_owner(self, user_id):
        return user_id == OWNER_ID

    async def start(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        keyboard = [
            ["ğŸ§  Ú†Øª Ù‡ÙˆØ´Ù…Ù†Ø¯", "ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ø§Ø­Ø³Ø§Ø³Ø§Øª"],
            ["ğŸ¯ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ", "ğŸ“ˆ Ø¢Ù…Ø§Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ"],
            ["ğŸ® ØªØ³Øª Ù‡ÙˆØ´", "ğŸ‘‘ ÙˆÛŒÚ˜Ù‡ Ù…Ø§Ù„Ú©"]
        ]
        reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)
        
        await update.message.reply_text(
            "ğŸ§  **Ø¨Ù‡ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!**\n\n"
            "ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙØ¹Ø§Ù„ Ø´Ø¯Ù†Ø¯!",
            reply_markup=reply_markup,
            parse_mode='Markdown'
        )

    async def handle_message(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        text = update.message.text
        
        if text == "ğŸ§  Ú†Øª Ù‡ÙˆØ´Ù…Ù†Ø¯":
            await update.message.reply_text("ğŸ§  **Ø­Ø§Ù„Øª Ú†Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙØ¹Ø§Ù„ Ø´Ø¯!**")
        elif text == "ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ø§Ø­Ø³Ø§Ø³Ø§Øª":
            await update.message.reply_text("ğŸ“Š **ØªØ­Ù„ÛŒÙ„ Ø§Ø­Ø³Ø§Ø³Ø§Øª:**\n\nØ§Ø­Ø³Ø§Ø³Ø§Øª Ø´Ù…Ø§ ØªØ­Ù„ÛŒÙ„ Ø´Ø¯! ğŸ˜Š")
        elif text == "ğŸ¯ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ":
            await update.message.reply_text("ğŸ¯ **Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ:**\n\nØ¢ÛŒÙ†Ø¯Ù‡ Ø±ÙˆØ´Ù†ÛŒ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø´Ù…Ø§Ø³Øª! âœ¨")
        elif text == "ğŸ“ˆ Ø¢Ù…Ø§Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ":
            await update.message.reply_text("ğŸ“ˆ **Ø¢Ù…Ø§Ø±:**\n\nØ´Ù…Ø§ Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ø§Ù„ÛŒ Ù‡Ø³ØªÛŒØ¯! ğŸ†")
        elif text == "ğŸ® ØªØ³Øª Ù‡ÙˆØ´":
            await update.message.reply_text("ğŸ® **ØªØ³Øª Ù‡ÙˆØ´:**\n\nØ¨Ù‡ Ø²ÙˆØ¯ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯! ğŸ§ ")
        elif text == "ğŸ‘‘ ÙˆÛŒÚ˜Ù‡ Ù…Ø§Ù„Ú©" and self.is_owner(update.effective_user.id):
            await update.message.reply_text("ğŸ‘‘ **Ø¯Ø³ØªØ±Ø³ÛŒ ÙˆÛŒÚ˜Ù‡ Ù…Ø§Ù„Ú© ÙØ¹Ø§Ù„ Ø´Ø¯!**")
        else:
            await update.message.reply_text("ğŸ¤– **Ù¾Ø§Ø³Ø® Ù‡ÙˆØ´Ù…Ù†Ø¯:**\n\nØ³ÙˆØ§Ù„ Ø¬Ø§Ù„Ø¨ÛŒ Ù¾Ø±Ø³ÛŒØ¯ÛŒØ¯! ğŸ’«")

def main():
    ai_bot = AdvancedAI()
    application = Application.builder().token(BOT_TOKEN).build()
    
    application.add_handler(CommandHandler("start", ai_bot.start))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, ai_bot.handle_message))
    
    print("ğŸ§  Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§Ø³Øª...")
    application.run_polling()

if __name__ == "__main__":
    main()
